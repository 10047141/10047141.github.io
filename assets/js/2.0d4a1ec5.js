(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{159:function(t,s,a){t.exports=a.p+"assets/img/1.0bdfef5b.jpg"},160:function(t,s){t.exports="data:image/jpeg;base64,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"},161:function(t,s,a){t.exports=a.p+"assets/img/3.73558f77.jpg"},162:function(t,s,a){t.exports=a.p+"assets/img/4.7a79c197.jpg"},163:function(t,s,a){t.exports=a.p+"assets/img/5.77e20bf6.jpg"},164:function(t,s,a){t.exports=a.p+"assets/img/6.4c6e14d2.jpg"},168:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("p",[t._v("@"),n("a",{attrs:{href:"%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95"}},[t._v("TOC")])]),t._v(" "),n("h2",{attrs:{id:"描述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#描述","aria-hidden":"true"}},[t._v("#")]),t._v(" 描述")]),t._v(" "),n("p",[n("strong",[t._v("利用gulp,当引入文件改动时，版本号自动更新")])]),t._v(" "),n("h2",{attrs:{id:"步骤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#步骤","aria-hidden":"true"}},[t._v("#")]),t._v(" 步骤")]),t._v(" "),n("h3",{attrs:{id:"_1-步骤1"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-步骤1","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 步骤1")]),t._v(" "),n("p",[n("strong",[t._v("安装gulp-asset-rev，这是一个gulp.js的插件，通过添加内容哈希来替换文件的名称")])]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v(" cnpm i gulp-asset-rev --save-dev\n")])])]),n("p",[n("strong",[t._v("gulpfile.js文件配置如下所示")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" gulp "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'gulp'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" assetRev "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'gulp-asset-rev'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\ngulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("task")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'update'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" gulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("src")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"./res/*.html"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("pipe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token function"}},[t._v("assetRev")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("pipe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("dest")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'./dist'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("strong",[t._v("运行命令")])]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("gulp update\n")])])]),n("p",[n("strong",[t._v("结果如下：")]),t._v(" "),n("img",{attrs:{src:a(159),alt:"在这里插入图片描述"}}),t._v(" "),n("strong",[t._v("显然不符合预期,文件名和源文件名不一致！")])]),t._v(" "),n("h3",{attrs:{id:"_2-步骤2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-步骤2","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. 步骤2")]),t._v(" "),n("p",[n("strong",[t._v("针对步骤1存在的问题进行如下调整，进入到./node_modules/_gulp-asset-rev@0.0.15@gulp-asset-rev文件夹下的index.js文件")]),t._v(" "),n("img",{attrs:{src:a(160),alt:"在这里插入图片描述"}})]),t._v(" "),n("p",[n("strong",[t._v("将index.js的代码进行修改...")]),t._v(" "),n("img",{attrs:{src:a(161),alt:"在这里插入图片描述"}})]),t._v(" "),n("p",[n("strong",[t._v("重新运行命令 gulp update")]),t._v(" "),n("img",{attrs:{src:a(162),alt:"在这里插入图片描述"}})]),t._v(" "),n("p",[n("strong",[t._v("这样就可以实现gulp自动化更新版本号了")])]),t._v(" "),n("h2",{attrs:{id:"进阶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进阶","aria-hidden":"true"}},[t._v("#")]),t._v(" 进阶")]),t._v(" "),n("p",[n("strong",[t._v("在实际项目开发中有时候需要将多个.js文件或者.css文件合并成一个文件，如main.js或main.css。\n但通过gulp-asset-rev打包的HTML文件并不会自动更新文件的引用")]),t._v(" "),n("strong",[t._v("接下来将实现自动化更新文件的引用")])]),t._v(" "),n("h3",{attrs:{id:"_1-步骤1-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-步骤1-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 步骤1")]),t._v(" "),n("p",[n("strong",[t._v("配置gulp，实现js文件和css文件合并压缩方法。")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" gulp "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'gulp'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" assetRev "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'gulp-asset-rev'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 获取 uglify 模块（用于压缩 JS）")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" uglify "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'gulp-uglify'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 获取 cleancss 模块（用于压缩 CSS）")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" cleanCSS "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'gulp-clean-css'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token comment"}},[t._v("//合并")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" concat "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'gulp-concat'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token comment"}},[t._v("//html 更新版本号")]),t._v("\ngulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("task")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'update'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" gulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("src")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"./res/*.html"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("pipe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token function"}},[t._v("assetRev")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("pipe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("dest")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'./dist'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 合并压缩css")]),t._v("\ngulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("task")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'csscompress'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{attrs:{class:"token operator"}},[t._v("/")]),n("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1.")]),t._v(" 找到文件\n "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" gulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("src")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'./res/css/*.css'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("pipe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token function"}},[t._v("concat")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'main.css'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("// 2. 压缩文件")]),t._v("\n     "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("pipe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token function"}},[t._v("cleanCSS")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),n("span",{attrs:{class:"token operator"}},[t._v("/")]),n("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("     "),n("span",{attrs:{class:"token operator"}},[t._v("/")]),n("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("3.")]),t._v(" 另存压缩后的文件\n     "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("pipe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("dest")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'./dist/css'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token operator"}},[t._v("/")]),n("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" 合并压缩js\ngulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("task")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'jscompress'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" gulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("src")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'./res/js/*.js'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),n("span",{attrs:{class:"token comment"}},[t._v("//1. 合并文件")]),t._v("\n     "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("pipe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token function"}},[t._v("concat")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'main.js'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),n("span",{attrs:{class:"token operator"}},[t._v("/")]),n("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("2.")]),t._v(" 压缩文件\n     "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("pipe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token function"}},[t._v("uglify")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),n("span",{attrs:{class:"token operator"}},[t._v("/")]),n("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("3.")]),t._v(" 另存压缩后的文件\n     "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("pipe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("dest")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'./dist/js'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),n("span",{attrs:{class:"token operator"}},[t._v("/")]),n("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" gulp本地版本需要"),n("span",{attrs:{class:"token number"}},[t._v("4.0")]),t._v("\ngulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("task")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"hello"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" gulp"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("series")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'jscompress'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'csscompress'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{attrs:{class:"token string"}},[t._v("'update'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("strong",[t._v("打包后可以发现HTML文件的引用并不是main.js已经main.css")])]),t._v(" "),n("h3",{attrs:{id:"_2-步骤2-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-步骤2-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. 步骤2")]),t._v(" "),n("p",[n("strong",[t._v("修改./node_modules/_gulp-asset-rev@0.0.15@gulp-asset-rev文件夹下的index.js文件")]),t._v(" "),n("img",{attrs:{src:a(163),alt:"在这里插入图片描述"}})]),t._v(" "),n("p",[n("strong",[t._v("执行gulp hello")]),t._v(" "),n("img",{attrs:{src:a(164),alt:"在这里插入图片描述"}})]),t._v(" "),n("p",[n("strong",[t._v("搞定！")])]),t._v(" "),n("h2",{attrs:{id:"注意事项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注意事项","aria-hidden":"true"}},[t._v("#")]),t._v(" 注意事项")]),t._v(" "),n("p",[t._v("** 整合的main.css和main.js在源文件中一定要有，否则将无法将其他的.css/.js文件删除**")])])}],o=a(0),c=Object(o.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);c.options.__file="gulpUpdate.md";s.default=c.exports}}]);